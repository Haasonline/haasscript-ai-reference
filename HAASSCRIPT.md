# HaasScript Reference

> **For AI agent guidance and best practices, see [AGENT.md](AGENT.md)**
> This document is a technical command reference. For help with common patterns, debugging, and interaction guidelines, start with AGENT.md.

Complete reference documentation for HaasScript, the Lua-based scripting language for automated cryptocurrency trading on Haasonline TradeServer.

## Overview

HaasScript is a Lua-based scripting language that enables you to create custom trading strategies and indicators. Scripts are executed on each price tick or time interval, allowing you to:

- Access real-time and historical price data
- Calculate technical indicators (RSI, MACD, Bollinger Bands, etc.)
- Generate trading signals (long, short, exit)
- Manage positions and orders
- Implement risk management (stop loss, take profit)
- Create custom visualizations and charts

## Type System

### Core Data Types

**HaasNumberCollection**

The primary data type for numeric operations in HaasScript. Represents both single numbers and arrays of numbers (time series data).

```lua
local prices = GetClosePrices()  -- Returns HaasNumberCollection
local rsi = RSI(prices, 14)      -- Returns HaasNumberCollection

-- Access first value
local currentRsi = rsi.Value

-- Access array of values
local rsiHistory = rsi.Values
```

**HaasSignal**

Represents trading signals (long, short, exit). Generated by signal helper commands or managed trading actions.

**HaasEnum**

Enumeration type for constants (MA types, signal types, order types, etc.).

**Primitive Types**

- `number` - Lua number (floating point)
- `string` - Text data
- `boolean` - true/false values

## Execution Model

HaasScript bots execute in two phases:

### 1. Initialization Phase

Runs once when the bot starts. Use this phase to:
- Define input fields with `Input()` commands
- Set default configuration
- Initialize variables

### 2. Update Phase

Runs on each price tick or configured interval. Use this phase to:
- Fetch latest price data
- Calculate indicators
- Generate trading signals
- Manage positions

**Example Script:**

```lua
-- Simple RSI strategy
local period = Input("period", 14)  -- Initialization

local prices = GetClosePrices()      -- Update phase
local rsi = RSI(prices, period)

if rsi.Value < 30 then
    DoLong()  -- Buy signal
elseif rsi.Value > 70 then
    DoShort()  -- Sell signal
end
```

## Common Patterns

### Getting Price Data

```lua
local closePrices = GetClosePrices()
local highPrices = GetHighPrices()
local lowPrices = GetLowPrices()
local volume = GetVolume()
```

### Technical Indicators

```lua
-- RSI (Relative Strength Index)
local rsi = RSI(GetClosePrices(), 14)

-- MACD
local macd = MACD(GetClosePrices(), 12, 26, 9)
local macdValue = macd.Value
local signalLine = macd.Signal

-- Moving Averages
local sma = SMA(GetClosePrices(), 20)
local ema = EMA(GetClosePrices(), 20)
```

### Managed Trading (Recommended)

```lua
-- Simple long/short signals
if buyCondition then
    DoLong()  -- Enter long position
elseif sellCondition then
    DoShort()  -- Enter short position
end

-- Exit position
if exitCondition then
    DoExitPosition()
end

-- Easy risk management
StopLoss(2.0)        -- 2% stop loss
TakeProfit(5.0)      -- 5% take profit
TrailingStopLoss(3.0)  -- 3% trailing stop
```

### Working with Arrays

```lua
local prices = GetClosePrices()

-- Get specific index (0 = most recent)
local currentPrice = IndexArray(prices, 0)
local previousPrice = IndexArray(prices, 1)

-- Filter and slice
local recentPrices = SliceArray(prices, 0, 10)  -- Last 10 candles
local highPrices = FilterArray(prices, '>',  100)  -- Prices > 100
```

### Memory and State

```lua
-- Save values between executions
SaveMemoryValue("myKey", rsi.Value)
local previousRsi = GetMemoryValue("myKey")

-- Check if key exists
if HasMemoryValue("myKey") then
    -- Use stored value
end
```

## Command Index

HaasScript provides **774 commands** organized into **6 logical domains**:

### Advanced Features (97 commands)

**Charting** (30)
- `ChangeColorOpacity(color, opacity)` - Converts HEX to RGBA with opacity.
- `ChartAddAxisLabel(chartId, side, text, value, [color], [textColor])` - Adds a label on the y-axis.
- `ChartSetAxisOptions(chartId, side, [low], [high], [visible], [type])` - Gives control over axis settings such as low, high and vi...
- `ChartSetOptions(chartId, [title], [height], [style])` - Gives control over chart options such as title and height.
- `LineOptions([color], [style], [deco], [width], [offset], [side], [id], [behind], [ignoreOnAxis], [drawTrailingLine])` - Creates a line options object to be used for Plot().
- ... and 25 more

**Custom Commands Helpers** (8)
- `DefineCommand(name, description)` - This defines the name and description of the custom comma...
- `DefineEasyIndicatorOutput(result)` - Defines the signal output for the custom indicator.
- `DefineEasyIndicatorParameters([chartIndex])` - Defines the chartIndex and interval parameter.
- `DefineIntervalOptimization(interval)` - Optimizes the custom command for back tests. Only use thi...
- `DefineOutput(type, [value], [description], [outputSuggestions])` - Defines the output type and data.
- ... and 3 more

**Input Fields** (23)
- `Input(label, [defaultValue], [tooltip], [group])` - Creates a script input field. The type is depending on th...
- `InputAccount(label, [tooltip], [group])` - Creates an account selection field.
- `InputAccountMarket(label, [tooltip], [group])` - Creates an account, market & leverage dropdown.
- `InputButton(label, callback, [tooltip], [group])` - Creates a button in the input field. When press in the UI...
- `InputCdlTypes(label, defaultValue, [tooltip], [group])` - Creates a dropdown with available Candlestick Pattern (CD...
- ... and 18 more

**Input Settings** (6)
- `AccountGuid()` - Gets the main account guid of the bot.
- `CurrentInterval([sources])` - Gets the default interval selected by the user or returns...
- `Fee([market])` - Gets the current fee percentage of the main or specific m...
- `Leverage()` - Gets the main account leverage setting.
- `PriceMarket()` - Gets the main market of the bot.
- ... and 1 more

**MAchine Learning** (2)
- `IsAbnormal(dataset, multiplier)` - Looks to a numberic array and tells if the last value is ...
- `SimpleForecastBySsa(dataset, L, N, forecastCount)` - Reads the given data and tries to give a forecast

**Settings** (24)
- `DeactivateBot([reason], [cancelOpenOrders])` - Deactivates the bot. Once the bot is deactivated, it can ...
- `DisableIndicatorContainerLogs()` - Disables IndicatorContainer log messages.
- `EnableHighSpeedUpdates([updateOnFilledOrders], [guaranteeInterval])` - Enables high-speed script execution.
- `EnableOrderPersistence()` - Enables order persistence for managed trading.
- `Finalize([callback])` - Only executes on the last update cycle of a backtest. Sav...
- ... and 19 more

**Social Media** (4)
- `BroadcastToDiscord(message)` - Send a text message to Discord.
- `BroadcastToSlack(message)` - Send a text message to Slack.
- `BroadcastToTelegram(message)` - Send a text message to your Telegram.
- `BroadcastToTwitter(message)` - Sends a new post to your twitter timeline.

**[View full advanced features documentation →](haasscript/advanced.md)**

### Data & Prices (63 commands)

**Price Data** (16)
- `BuyPrices([interval], [fullCandles], [market], [hlcStyle])` - Gets the buy/ask prices.
- `ClosePrices([interval], [fullCandles], [market], [hlcStyle])` - A collection with close prices. Sorted from new to old.
- `CurrentPrice([market])` - Gets all the price data from the current candle.
- `GetBodyHighPrices([interval], [fullCandles], [market], [hlcStyle])` - A collection with the highest price of the candle its bod...
- `GetBodyLowPrices([interval], [fullCandles], [market], [hlcStyle])` - A collection with the lowest price of the candle its body...
- ... and 11 more

**Price Market Information** (12)
- `AverageCandleSize([market])` - Calculates the average candle body size of the last 50 mi...
- `AverageOrderbookSpread([market])` - Calculates the average orderbook bid/ask spread of the la...
- `CreateMarket([priceSource], [baseCurrency], [quoteCurrency], [contractName])` - Creates a market string that can be used for a variety of...
- `GetLastTrades([depth], [market])` - Gets a list of the last trades.
- `GetOrderbook([market])` - Gets the orderbook on a specific market.
- ... and 7 more

**Profit Information** (6)
- `GetBotProfit([market], [includeUnrealized])` - Total realized profits on a specific market. Unrealized p...
- `GetBotROI([market])` - Gets the return on investment. The ROI is calculated by d...
- `GetCurrentProfit([direction], [market])` - Gets unrealized plus realized profits of the current open...
- `GetCurrentROI([direction], [market])` - Gets the return on investment percentage based on the tot...
- `GetTradingReport([market])` - Gets the trading report container with many useful values...
- ... and 1 more

**Time Information** (19)
- `AdjustTimestamp([unix], [addSeconds], [addMinutes], [addHours], [addDays], [addMonths], [addYears])` - Adjusts an Unix timestamp.
- `CloseTime(unix, interval)` - Converts a timestamps to the close timestamp of the candle.
- `CreateTimestamp([year], [month], [day], [hour], [minute], [second])` - Creates an Unix timestamp from the specified value.
- `CurrentDate([unix])` - Gets the date of the month of the current time or request...
- `CurrentDay([unix])` - Gets the day of the week of the current time or requested...
- `Sleep(milliseconds)` - Pauses script execution (max 10 seconds).
- ... and 13 more

**Wallet** (10)
- `Balance([accountId], [coin], [market])` - Total balance specifications of a specific currency. Avai...
- `BalanceAmount([accountId], [coin], [market])` - Total balance value of a specific currency. Including ord...
- `MarginToTradeAmount(price, margin, leverage, [market])` - Convert margin to a trade amount. In spot markets, the ma...
- `MaxExitLongAmount([market])` - Calculates the maximum amount which can be used to place ...
- `MaxExitShortAmount([market])` - Calculates the maximum amount which can be used to place ...
- ... and 5 more

**[View full data & prices documentation →](haasscript/data-and-prices.md)**

### Enumerations (197 commands)

**Enumerations Array filter Types** (4)
- `ArrayFilterExclusiveType()` - Exclusive filter type; will exclude all matching values.
- `ArrayFilterGreaterThanType()` - GreaterThan filter type; will include all greater values.
- `ArrayFilterInclusiveType()` - Inclusive filter type; will include all matching values.
- `ArrayFilterLessThanType()` - LessThan filter type; will include all lesser values.

**Enumerations Candle Pattern** (65)
- `AbandonedBabyType()` - Enumeration, returns an enum for AbandonedBabyType type.
- `AdvanceBlockType()` - Enumeration, returns an enum for AdvanceBlockType type.
- `BeltHoldType()` - Enumeration, returns an enum for BeltHoldType type.
- `BreakawayType()` - Enumeration, returns an enum for BreakawayType type.
- `ClosingMarubozuType()` - Enumeration, returns an enum for ClosingMarubozuType type.
- ... and 60 more

**Enumerations Charting** (31)
- `Candlestick()` - Enumeration, return a price plot enum. Used by PlotPrice(...
- `CandlestickHLC()` - Enumeration, return a price plot enum. Used by PlotPrice(...
- `CloseLine()` - Enumeration, return a price plot enum. Used by PlotPrice(...
- `Dashed()` - Enumeration, returns a line decoration enum. Used by Line...
- `Dotted()` - Enumeration, returns a line decoration enum. Used by Line...
- ... and 26 more

**Enumerations Color** (20)
- `Aqua([opacity])` - Enumeration, returns a color hex string. Can be used as A...
- `Black([opacity])` - Enumeration, returns a color hex string. Can be used as B...
- `Blue([opacity])` - Enumeration, returns a color hex string. Can be used as B...
- `Color(r, g, b, [a])` - Creates an RGBA color string.
- `Cyan([opacity])` - Enumeration, returns a color hex string. Can be used as C...
- ... and 15 more

**Enumerations Data Types** (12)
- `ArrayDataType()` - Enumeration, returns a data type enum.
- `BoolDataType()` - Enumeration, returns a data type enum.
- `CommandDataType()` - Enumeration, returns a data type enum.
- `FunctionDataType()` - Enumeration, returns a data type enum.
- `HncDataType()` - Enumeration, returns a data type enum.
- ... and 7 more

**Enumerations Margin Mode** (2)
- `CrossMarginMode()` - Enumeration, returns a cross-margin mode enum. Used with ...
- `IsolatedMarginMode()` - Enumeration, returns isolated margin mode enum. Used with...

**Enumerations Moving Averages** (9)
- `DemaType()` - Enumeration, returns an enum for DEMA type.
- `EmaType()` - Enumeration, returns an enum for EMA type.
- `KamaType()` - Enumeration, returns an enum for KAMA type.
- `MamaType()` - Enumeration, returns an enum for MAMA type.
- `SmaType()` - Enumeration, returns an enum for SMA type.
- ... and 4 more

**Enumerations Order Types** (9)
- `LimitOrderType()` - Standard limit order type enum with a default timeout of ...
- `MakerOrCancelOrderType()` - MakerOrCancel order type enum with a standard timeout of ...
- `MarketOrderType()` - Standard market order type. Used by SetOrderType() or Pla...
- `NoTimeOutOrderType()` - Enumeration, returns an order type enum. Used by SetOrder...
- `StopLimitOrderType()` - Stop-Limit order type enum with a standard timeout of 10 ...
- ... and 4 more

**Enumerations Parameter Type** (9)
- `BooleanType()` - Enumeration, returns a parameter enum. Used by DefinePara...
- `CallbackType()` - Enumeration, returns a parameter enum. Used by DefinePara...
- `DynamicType()` - Enumeration, returns a parameter enum. Used by DefinePara...
- `EnumType()` - Enumeration, returns a parameter enum. Used by DefinePara...
- `ListDynamicType()` - Enumeration, returns a parameter enum. Used by DefinePara...
- ... and 4 more

**Enumerations Position** (3)
- `NoPosition()` - Enumeration, returns a bot position enum. Used by GetPosi...
- `PositionLong()` - Enumeration, returns a bot position enum. Used by GetPosi...
- `PositionShort()` - Enumeration, returns a bot position enum. Used by GetPosi...

**Enumerations Position Mode** (2)
- `HedgePositionMode()` - Enumeration, returns a hedge position mode enum. Used wit...
- `OneWayPositionMode()` - Enumeration, returns a one-way position mode enum. Used w...

**Enumerations Signal** (9)
- `SignalError()` - Enumeration, returns a signal enum. Used by GetRemoteSign...
- `SignalExitLong()` - Enumeration, returns a signal enum. Used by GetRemoteSign...
- `SignalExitPosition()` - Enumeration, returns a signal enum. Used by GetRemoteSign...
- `SignalExitShort()` - Enumeration, returns a signal enum. Used by GetRemoteSign...
- `SignalLong()` - Enumeration, returns a signal enum. Used by GetRemoteSign...
- ... and 4 more

**Enumerations Signal Types** (7)
- `BothCenterCrossType()` - Enumeration, returns a signal type enum. Used with GetSup...
- `BothThresholdType()` - Enumeration, returns a signal type enum. Used with GetSup...
- `IndicatorCenterCrossType()` - Enumeration, returns a signal type enum. Used with GetSup...
- `IndicatorSignalCrossType()` - Enumeration, returns a signal type enum. Used with GetSup...
- `IndicatorThresholdType()` - Enumeration, returns a signal type enum. Used with GetSup...
- ... and 2 more

**Enumerations Source Price Types** (8)
- `ClosePriceSource()` - Enumeration, returns an enum for Close Price Source type.
- `HighPriceSource()` - Enumeration, returns an enum for High Price Source type.
- `HLCPriceSource()` - Enumeration, returns an enum for HLC Price Source type.
- `HLPriceSource()` - Enumeration, returns an enum for HL Price Source type.
- `LowPriceSource()` - Enumeration, returns an enum for Low Price Source type.
- ... and 3 more

**Enumerations Trading** (3)
- `LeverageTrading()` - Enumeration, returns a market type enum. Used by MarketTy...
- `MarginTrading()` - Enumeration, returns a market type enum. Used by MarketTy...
- `SpotTrading()` - Enumeration, returns a market type enum. Used by MarketTy...

**Enumerations Trading LR** (4)
- `LR_Angle()` - Enumeration, returns an enum for LINEARREG().
- `LR_Default()` - Enumeration, returns an enum for LINEARREG().
- `LR_Intercept()` - Enumeration, returns an enum for LINEARREG().
- `LR_Slope()` - Enumeration, returns an enum for LINEARREG().

**[View full enumerations documentation →](haasscript/enumerations.md)**

### Helpers & Utilities (121 commands)

**Array Helpers** (22)
- `ArrayAdd(input, element)` - Adds an element to an existing array.
- `ArrayAny(input, [value])` - Returns true if the array contains any element or an elem...
- `ArrayConcat(array1, array2)` - Concatenates two arrays.
- `ArrayDistinct(input)` - Returns a new list with only unique elements. In other wo...
- `ArrayFilter(input, value, [filterType])` - Returns a new list with elements that only matches the va...
- ... and 17 more

**Equations** (15)
- `Compare(input1, input2)` - Checks if input1 is below, equal to or above input2.
- `Equals(value1, value2)` - Compares two values and returns whether or not the values...
- `False()` - Creates a false value.
- `IfNull(value, defaultValue)` - Sets the defaultValue if the value is nil.
- `IsBiggerAndSmallerThan(value, lowValue, highValue)` - Checks if the value is bigger than lowValue and smaller t...
- ... and 10 more

**Flow Control** (5)
- `Branch(input)` - Validates the input boolean and sets the output result ac...
- `DelayExecution(timestamp, delay)` - Delays an execution by x minutes
- `IfElse(statement, value1, value2)` - Will return 1 of 2 values based on the input boolean.
- `IfElseIf(statement1, statement2, value1, value2, value3)` - IfElseIf returns a value based on the boolean inputs.
- `Merge([values[]])` - This commands executes at the very last. When one of the ...

**Mathematical** (49)
- `Abs(input)` - Calculates an absolute/positive number.
- `Acos(input)` - Calculates the angle whose cosine is the specified number.
- `Add(input1, [input2])` - Adds numbers/tables and returns the result number/table.
- `AddPercentage(value, percentage)` - Add a percentage to the value.
- `Asin(input)` - Calculates the angle whose sine is the specified number.
- ... and 44 more

**Memory Helpers** (11)
- `Delete(key)` - Deletes a value on a specific key.
- `InitExportData(name, headers)` - Initialize a file that can be exported later.
- `Load(key, [defaultValue])` - Loads a value saved on the specified key.
- `Log(message, [color], [prefix], [suffix])` - Create a message in the log.
- `LogError(message)` - Create an error message in the log.
- ... and 6 more

**Miscellaneous** (9)
- `Comment(value)` - Creates a text area block for comments.
- `ConvertNull(input, [value])` - Converts any null value(s) to a specified value. By defau...
- `CustomReport(key, value, [group], [displayValue])` - Creates an item in the bots custom reports.
- `GetCommand(name)` - Gets a command by name.
- `GetType(value)` - Gets the data type of the input.
- ... and 4 more

**String Helpers** (10)
- `NewGuid()` - Creates an unique identifier.
- `Parse(value, type)` - Converts the value to a specific type.
- `ParseCsv(csv, [hasHeaders], [columnDelimiter], [rowDelimiter])` - Parses CSV data string and returns it as an object. URLs ...
- `ParseJson(json)` - Parses JSON data string and returns it as an object. URLs...
- `StringContains(value, searchValue, [ignoreCase])` - Returns a value indicating whether a specified substring ...
- ... and 5 more

**[View full helpers & utilities documentation →](haasscript/helpers.md)**

### Technical Analysis (157 commands)

**Easy Indicators** (50)
- `EasyABANDS(chartIndex, [name], [interval])` - Automatically defines the input fields, calculates the AB...
- `EasyADOSC(chartIndex, [name], [interval])` - Automatically defines the input fields, calculates the AD...
- `EasyAlice([interval])` - Automatically defines the input fields, calculates the Al...
- `EasyAO(chartIndex, [name], [interval])` - Automatically defines the input fields, calculates the AO...
- `EasyAPO(chartIndex, [name], [interval])` - Automatically defines the input fields, calculates the AP...
- ... and 45 more

**Technical Analysis** (98)
- `ABANDS(high, low, close, period)` - Acceleration Bands (ABANDS) created by Price Headley. Plo...
- `AD(high, low, close, volume)` - Accumulation/Distribution Line (AD) Developed by Marc Cha...
- `ADOSC(high, low, close, volume, fastPeriod, slowPeriod)` - Developed by Marc Chaikin, the Chaikin Oscillator (ADOSC)...
- `ADX(high, low, close, period)` - The Average Directional Index (ADX) depicts a presence or...
- `ADXR(high, low, close, period)` - Average Directional Movement Index Rating (ADXR) is a smo...
- ... and 93 more

**Technical Analysis Helpers** (9)
- `CrossOver(value1, value2)` - Checks if a crossover occurs between value1 and value2.
- `CrossOverSince(value1, value2)` - Calculates the number of ticks since the last crossover.
- `CrossUnder(value1, value2)` - Checks if a crossunder occurs between value1 and value2.
- `CrossUnderSince(value1, value2)` - Calculates the number of ticks since the last crossunder.
- `GetSwing(input1, input2)` - Calculates the amount of swing in percentages.
- ... and 4 more

**[View full technical analysis documentation →](haasscript/technical-analysis.md)**

### Trading & Positions (140 commands)

**Easy Insurances** (14)
- `AbsolutePriceChange([amount], [targetPrice], [positionId])` - Compares the average entry price to current price, absolu...
- `DisableOnLosses(tradeCount, [acceptedLoss], [market])` - Blocks new orders if total gain is negative after X trades .
- `NeverEnterWithALoss([acceptedLoss], [targetPrice])` - Blocks enter trade when targetPrice is above the last sel...
- `NeverExitWithLoss([acceptedLoss], [targetPrice], [positionId])` - Compares the average enter price to the targetPrice or cu...
- `OrderOncePerBar([interval], [positionId])` - Only allows a order to occur once per bar. Signals produc...
- ... and 9 more

**Easy Safeties** (19)
- `ChandelierStopLoss([depth], [multiplier], [positionId], [direction])` - Calculates the chandelier exit long/short price and compa...
- `DeactivateAfterEnterOrder([positionCount])` - Deactivates the bot after an enter order has been completed.
- `DeactivateAfterExitOrder([positionCount])` - Deactivates the bot after an exit order has been completed.
- `DeactivateAfterXActiveMinutes(minutes)` - Deactivates the bot when the is active for a certain time.
- `DeactivateAfterXIdleMinutes(minutes)` - Deactivates the bot if the last completed order is a numb...
- ... and 14 more

**Order Handling** (8)
- `CancelAllOrders([positionId])` - Cancels all open orders.
- `CancelOrder(orderId)` - Sends out a cancel order for the given order identifier.
- `IsAnyOrderFinished([positionId])` - Checks if there are any open orders completed/cancelled.
- `IsAnyOrderOpen([positionId])` - Checks if there are any open orders.
- `IsBuyOrder(orderId)` - Checks if the given order is a buy order.
- ... and 3 more

**Order Information** (8)
- `GetAllFilledOrders([positionId])` - A collection of (partially) filled orders executed by the...
- `GetAllOpenOrders([positionId])` - A collection of open orders executed by the bot.
- `GetFailedOrderMessage(orderId)` - The reason for the order failure.
- `GetOrderCancelledAmount(orderId)` - Calculates the cancelled amount if the order is completed...
- `GetOrderFilledAmount(orderId, [afterFees])` - Calculates the amount filled for a specific order.
- ... and 3 more

**Position Information** (14)
- `AdjustVPosition(price, amount, [positionId])` - Adjusts a virtual bot position by processing a simulated ...
- `CloseVPosition(price, [positionId])` - Closes a virtual bot position entirely by processing a si...
- `CreatePosition(direction, price, amount, [market], [leverage], [positionId])` - Creates a bot position by processing a simulated order us...
- `GetAllOpenPositions()` - Gets all open positions and returns them as PositionConta...
- `GetPositionAmount([positionId])` - Gets the total amount open in a specific position.
- ... and 9 more

**Position Prices** (11)
- `AverageEnterPrice([positionId], [includeClosed])` - Gets the average enter price.
- `AverageExitPrice([positionId])` - Gets the average exit price.
- `LastExitLongPrice()` - Gets the last used exit long price.
- `LastExitPositionPrice()` - Gets the last used exit short or long price.
- `LastExitShortPrice()` - Gets the last used exit short price.
- ... and 6 more

**Signal Helpers** (25)
- `BoolToSignal([isLong], [isShort], [isExit], [isNone])` - Converts 4 boolean values to a signal.
- `ConvertSignal(signal, signalToCovert, convertedSignal)` - Converts the signal if its matches the defined one.
- `DelaySignal(signal, minutes)` - Saves and delays a signal by a number of minutes.
- `GetAboveBelowSignal(fast, slow)` - Returns a continuous signal when values are above/below o...
- `GetBuySellLevelSignal(value, buyLevel, sellLevel)` - Determines the signal from a result with a buy and sell l...
- ... and 20 more

**Trade Actions (Managed)** (5)
- `DoExitPosition([note], [count])` - Sends out a sell signal on spot or an exit positions sign...
- `DoFlipPosition([note])` - Executes a DoLong() when the current position is short an...
- `DoLong([note], [count])` - Generates a buy signal on spot or a long signal on margin...
- `DoShort([note], [count])` - Generates a sell signal on spot or a short signal on marg...
- `DoSignal(signal, [note])` - Processes a signal enum. Triggers a DoLong() when the sig...

**Trade Actions (Unmanaged)** (8)
- `PlaceBuyOrder(price, amount, [market], [type], [note], [positionId], [timeout], [triggerPrice], [reduceOnly], [hiddenOrder])` - Places a (limit) buy order for the given amount and price...
- `PlaceCancelledOrder(orderId, [price])` - Executes the remaining amount of a canceled order.
- `PlaceExitLongOrder(price, amount, [market], [type], [note], [positionId], [timeout], [triggerPrice], [reduceOnly], [hiddenOrder])` - Places a (limit) exit long order for the given amount and...
- `PlaceExitPositionOrder([positionId], [price], [type], [note], [timeout])` - Places exit orders for a specific bot position.
- `PlaceExitShortOrder(price, amount, [market], [type], [note], [positionId], [timeout], [triggerPrice], [reduceOnly], [hiddenOrder])` - Places a (limit) exit short order for the given amount an...
- ... and 3 more

**Trade Bot** (4)
- `IndicatorContainer([signals[]])` - Merges multiple signals into a single list and determines...
- `InsuranceContainer([signals[]])` - Validates if all the signals agree.
- `SafetyContainer([signals[]])` - Checks a collection for active safety signals.
- `TradeBotContainer([safetySignal], [indicatorSignal], [insuranceSignal])` - Checks the safety, indicator & insurance signal. If a saf...

**Trade Market Information** (24)
- `AmountDecimals([market], [amount])` - Returns a number of how many decimals is allowed for orde...
- `AmountLabel([market])` - Gets the amount label. For reflection, in case the market...
- `AmountStep([market])` - Returns the minimum allowed trade amount step for market.
- `BaseCurrency([market])` - Returns the base currency of the market. For reflection, ...
- `ContractName([market])` - Gets the contract name of the market.
- ... and 19 more

**[View full trading & positions documentation →](haasscript/trading.md)**

## Best Practices

### Performance

- **Minimize API calls** - Cache price data and indicator results
- **Use appropriate periods** - Longer indicator periods (1-450) are supported
- **Avoid complex loops** - Scripts timeout after 2 minutes

### Risk Management

- **Always use stop losses** - Protect against unexpected moves
- **Test thoroughly** - Use backtesting before live trading
- **Start small** - Test with small position sizes

### Debugging

- **Use Log() commands** - Output values for debugging
- **Check execution logs** - Review bot logs for errors
- **Enable debug mode** - Get detailed execution traces

## Additional Resources

- **Full Command Reference**: See `docs/haasscript/commands/` for detailed documentation of every command
- **Online Documentation**: https://help.haasonline.com/haasscript/general/
- **Community**: Haasonline Discord and forums

---

*This documentation is auto-generated from the HaasScript codebase. To regenerate, run:*
```bash
dotnet run --project Source/Tools/HaasScriptDocGenerator
```

